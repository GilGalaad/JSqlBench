<?xml version="1.0" encoding="UTF-8"?>
<configuration status="WARN">
    <Properties>
        <!-- file location: can be overridden on the command line -->
        <Property name="log.directory" value="logfiledir" />
        <Property name="log.filename" value="logfilename" />
        <!-- presets -->
        <Property name="datetime_pattern" value="dd/MM/yyyy HH:mm:ss.SSS" />
        <Property name="no_pattern" value="%msg%n" />
        <Property name="simple_pattern" value="[%d{${sys:datetime_pattern}} %5level] %msg%n" />
        <Property name="standard_pattern" value="[%d{${sys:datetime_pattern}} %5level %logger{1}] %msg%n" />
        <Property name="location_pattern" value="[%d{${sys:datetime_pattern}} %5level %logger{1} %class{1}.%method:%line] %msg%n" />
        <!-- chosen pattern -->
        <Property name="log.pattern" value="${sys:standard_pattern}" />
    </Properties>
    <appenders>
        <Console name="Console" target="SYSTEM_OUT" direct="true">
            <PatternLayout pattern="${sys:log.pattern}" />
        </Console>
        <RollingFile name="RollingFile" fileName="${sys:log.directory}/${sys:log.filename}.log"
                     filePattern="${sys:log.directory}/${sys:log.filename}-%d{yyyy-MM-dd}.log.gz">
            <PatternLayout pattern="${sys:log.pattern}" />
            <Policies>
                <TimeBasedTriggeringPolicy />
            </Policies>
            <DefaultRolloverStrategy>
                <Delete basePath="${sys:log.directory}">
                    <IfFileName glob="${sys:log.filename}-*.log.gz" />
                    <IfLastModified age="7d" />
                </Delete>
            </DefaultRolloverStrategy>
        </RollingFile>
    </appenders>
    <loggers>
        <root level="ALL">
            <appender-ref ref="Console" level="ALL" />
            <appender-ref ref="RollingFile" level="ALL" />
        </root>
    </loggers>
</configuration>